# ============================================================================
# Starship Prompt Configuration
# https://starship.rs
# ============================================================================
# Part of Danny's omarchy-config dotfiles
# https://blog.dmcc.io/dotfiles/
# ============================================================================

"$schema" = 'https://starship.rs/config-schema.json'

# ----------------------------------------------------------------------------
# Prompt Format
# ----------------------------------------------------------------------------

format = """
$hostname\
$directory\
$git_branch\
$git_status\
$character\
"""

right_format = """
$git_state\
$git_commit\
$c\
$golang\
$lua\
$nodejs\
$python\
$ruby\
$rust\
${custom.hugo}\
$battery\
"""

continuation_prompt = "[∙](bright-black) "

# ----------------------------------------------------------------------------
# Hostname (shown only during SSH sessions)
# ----------------------------------------------------------------------------

[hostname]
ssh_only = true
style = "bold yellow"
format = "[$hostname]($style) "

# ----------------------------------------------------------------------------
# Character (Prompt Symbol)
# ----------------------------------------------------------------------------

[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"
vimcmd_symbol = "[❮](bold green)"
vimcmd_visual_symbol = "[❮](bold yellow)"
vimcmd_replace_symbol = "[❮](bold purple)"
vimcmd_replace_one_symbol = "[❮](bold purple)"

# ----------------------------------------------------------------------------
# Directory
# ----------------------------------------------------------------------------

[directory]
truncation_length = 4
truncate_to_repo = true
read_only = " 󰌾"
style = "bold cyan"
format = "[$path]($style)[$read_only]($read_only_style) "

# ----------------------------------------------------------------------------
# Git
# ----------------------------------------------------------------------------

[git_branch]
symbol = " "
style = "bold purple"
truncation_length = 20
truncation_symbol = "…"
format = "[$symbol$branch(:$remote_branch)]($style) "

[git_status]
style = "bold yellow"
format = '([$all_status$ahead_behind]($style) )'
ahead = "⇡${count}"
behind = "⇣${count}"
diverged = "⇕⇡${ahead_count}⇣${behind_count}"
renamed = "»"
deleted = "✘"
staged = "[+$count](green)"
modified = "[!$count](yellow)"
untracked = "[?$count](blue)"
conflicted = "[=$count](red)"
stashed = "≡"

[git_state]
style = "bold yellow"
format = '[$state( $progress_current/$progress_total)]($style) '
rebase = "REBASING"
merge = "MERGING"
revert = "REVERTING"
cherry_pick = "PICKING"
bisect = "BISECTING"

[git_commit]
format = '[$hash$tag]($style) '
style = "dimmed white"
only_detached = false
commit_hash_length = 7
tag_symbol = " 󰓹 "

# ----------------------------------------------------------------------------
# Languages
# ----------------------------------------------------------------------------

[golang]
symbol = "󰟓 "
style = "bold cyan"
format = '[$symbol$version]($style) '

[nodejs]
symbol = "󰎙 "
style = "bold green"
format = '[$symbol$version]($style) '

[python]
symbol = "󰌠 "
style = "bold yellow"
format = '[$symbol$version]($style) '

[rust]
symbol = "󱘗 "
style = "bold red"
format = '[$symbol$version]($style) '

[lua]
symbol = "󰢱 "
format = '[$symbol$version]($style) '

[ruby]
symbol = "󰴭 "
format = '[$symbol$version]($style) '

[c]
symbol = "󰙱 "
format = '[$symbol$version]($style) '

# ----------------------------------------------------------------------------
# Custom Modules
# ----------------------------------------------------------------------------

[custom.hugo]
format = '[$symbol($output )]($style)'
style = "bold magenta"
symbol = "󰅩 "
command = "hugo version | cut -d ' ' -f2 | cut -d '+' -f1"
detect_files = ["hugo.toml", "hugo.yaml", "hugo.json"]
detect_folders = ["archetypes", "content", "layouts"]

# ----------------------------------------------------------------------------
# System Status
# ----------------------------------------------------------------------------

[battery]
full_symbol = "󰁹"
charging_symbol = "󰂄"
discharging_symbol = "󰂃"
unknown_symbol = "󰂑"
empty_symbol = "󰂎"
format = '[$symbol $percentage]($style) '

[[battery.display]]
threshold = 100
style = "white"

[[battery.display]]
threshold = 20
style = "bold red"

# ----------------------------------------------------------------------------
# Disabled Modules (reduce noise)
# ----------------------------------------------------------------------------

[aws]
disabled = true

[azure]
disabled = true

[gcloud]
disabled = true

[docker_context]
disabled = true

[package]
disabled = true

[terraform]
disabled = true

[kubernetes]
disabled = true
